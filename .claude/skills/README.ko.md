# 스킬 디렉토리 (퍼사드 패턴 최적화)

> **[English Version](README.md)**

## 목적
이 디렉토리는 **토큰 효율성 극대화**를 위해 퍼사드 패턴(Facade Pattern)으로 설계된 재사용 가능한 스킬 정의를 포함합니다. 방대한 기술 세부 정보를 인터페이스와 분리하여 "토큰 인플레이션"을 방지합니다.

## 구조 (퍼사드 패턴)

```text
skills/
└── 스킬이름/
    ├── SKILL.md           # 인터페이스 (경량: 약 30-50줄)
    └── references/        # 세부 구현 (중량: 필요 시에만 로드)
        ├── api-docs.md
        └── cli-patterns.md
```

## 작동 원리: "온디맨드(On-Demand)" 전략

매번 방대한 문서를 로드하는 대신, Claude는 처음에 **인터페이스(SKILL.md)**만 로드합니다.

1. **1단계 (경량화)**: Claude가 간결한 `SKILL.md` 인터페이스를 읽습니다.
2. **2단계 (트리거)**: 인터페이스에 정의된 "트리거 조건"에 맞는 작업이 발생하면, Claude가 명시적으로 참조 파일을 로드합니다.
3. **3단계 (실행)**: 해당 턴에서만 상세 정보를 사용하고, 이후 `/compact` 시점에서 제거될 수 있도록 관리합니다.

## 스킬 목록

| 스킬 | 용도 | 주요 이점 |
| :--- | :--- | :--- |
| `cli-wrappers` | 무거운 MCP 서버를 가벼운 CLI 패턴으로 대체 | 출력 토큰을 상당히 줄임 |
| `learned` | `/learn` 명령어를 통해 학습된 패턴 저장 | 재작업 및 반복 질문 방지 |

## 커스텀 스킬 추가 방법

### 1. 파일 템플릿: `SKILL.md`
```markdown
# [스킬 이름] 인터페이스

## 목적
이 스킬이 제공하는 기능에 대한 짧은 설명.

## 빠른 참조
- 핵심 사실 1
- 핵심 사실 2

## 참조 로드 프로토콜 (Reference Loading Protocol)
Claude는 아래 조건이 충족될 때만 `read_file` 도구를 사용하여 참조 파일을 로드해야 합니다:

- **로직 세부 사항**: 핵심 로직 작성 시 `.claude/skills/[스킬]/references/logic.md` 로드.
- **CLI 패턴**: 셸 명령어 실행 시 `.claude/skills/[스킬]/references/cli.md` 로드.
```

### 2. 파일 템플릿: `references/*.md`
방대한 API 문서, 긴 코드 예제, 에러 메시지 테이블 등 무거운 내용을 여기에 작성합니다.

## 권장 사항
1. **50줄 규칙**: `SKILL.md`가 50줄을 넘어가면 세부 내용을 `references/`로 옮기세요.
2. **명시적 트리거**: **"Claude는 반드시 ...을 로드해야 합니다"**와 같은 강조 문구를 사용하여 모델이 패턴을 따르게 하세요.
3. **상대 경로**: 도구 실행 실패를 방지하기 위해 항상 프로젝트 루트부터의 전체 경로(`.claude/skills/...`)를 제공하세요.